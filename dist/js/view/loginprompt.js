define(["vendor/tpl!../../templates/login.html","app","facebook"],function(a){var b=Backbone.View.extend({events:{"click .login-button":"login","click .signup-button":"login"},template:a,id:"dashboard",initialize:function(){console.log(sessionStorage),sessionStorage.uid&&(window.location.href="#/dashboard")},render:function(){return this.$el.html(this.template({})),this},login:function(){FB.login(function(a){a.authResponse?(window.location.href="#/dashboard",sessionStorage.uid=FB.getUserID()):console.error("unable to login")})},close:function(){this.remove(),this.unbind(),this.model&&this.model.unbind("change",this.modelChanged)}});return b});